---
interface Stat {
  value: string;
  label: string;
  detail?: string;
  icon: 'shield' | 'globe' | 'download';
}

interface Props {
  title?: string;
  subtitle?: string;
  stats?: Stat[];
  skills?: string[];
  className?: string;
}

const {
  title = 'Security expertise with global reach',
  subtitle = 'Skills Strip',
  stats = [
    {
      value: '12+',
      label: 'Years in Incident Response',
      detail: 'Leading high-stakes security operations',
      icon: 'shield',
    },
    {
      value: '25+',
      label: 'Countries Served',
      detail: 'Supporting teams across global time zones',
      icon: 'globe',
    },
    {
      value: '150M+',
      label: 'Monthly Downloads Protected',
      detail: 'Hardening open-source supply chains',
      icon: 'download',
    },
  ],
  skills = [
    'Incident Response',
    'Threat Intelligence',
    'AI Security',
    'AppSec',
    'DevSecOps',
    'Open Source',
  ],
  className = '',
} = Astro.props;
---

<section
  class:list={['py-10 sm:py-12', className]}
  aria-labelledby="skills-strip-title"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div
      class="relative overflow-hidden rounded-2xl border border-gray-200/70 bg-gradient-to-br from-white via-white to-emerald-50/60 p-6 sm:p-8 dark:border-slate-700/60 dark:from-slate-900 dark:via-slate-900 dark:to-emerald-950/30"
    >
      <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
        <div class="absolute -top-20 right-0 h-60 w-60 rounded-full bg-emerald-400/10 blur-3xl"></div>
        <div class="absolute bottom-0 left-10 h-60 w-60 rounded-full bg-cyan-400/10 blur-3xl"></div>
        <div
          class="absolute inset-0 bg-[linear-gradient(to_right,rgba(15,23,42,0.04),transparent_40%,rgba(15,23,42,0.04))] dark:bg-[linear-gradient(to_right,rgba(148,163,184,0.06),transparent_40%,rgba(148,163,184,0.06))]"
        >
        </div>
      </div>

      <div class="relative z-10 grid gap-8 lg:grid-cols-[1.2fr_1fr] lg:items-center">
        <div>
          <p
            class="inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400"
          >
            <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
            {subtitle}
          </p>
          <h2
            id="skills-strip-title"
            class="mt-3 text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white"
          >
            {title}
          </h2>
          <p class="mt-3 text-base sm:text-lg text-gray-600 dark:text-slate-300 max-w-2xl">
            12+ years securing AI and cloud systems, trusted across 25+ countries, safeguarding 150M+
            monthly open-source downloads.
          </p>
          <div class="mt-5 flex flex-wrap gap-2" role="list" aria-label="Core skills">
            {skills.map((skill) => (
              <span
                role="listitem"
                class="skills-chip inline-flex items-center gap-2 rounded-full border border-emerald-500/20 bg-emerald-500/10 px-3 py-1 text-xs font-semibold text-emerald-700 dark:border-emerald-400/20 dark:bg-emerald-400/10 dark:text-emerald-300"
              >
                <span class="h-1.5 w-1.5 rounded-full bg-emerald-500/70"></span>
                {skill}
              </span>
            ))}
          </div>
        </div>

        <div class="grid gap-4 sm:grid-cols-3" role="list" aria-label="Impact stats">
          {stats.map((stat, index) => (
            <div
              class="skills-strip-card group relative overflow-hidden rounded-xl border border-gray-200/70 bg-white/80 p-4 shadow-sm backdrop-blur-sm transition-all duration-300 hover:-translate-y-1 hover:border-emerald-500/40 hover:shadow-lg hover:shadow-emerald-500/10 dark:border-slate-700/60 dark:bg-slate-800/70 dark:hover:border-emerald-500/50"
              style={`--delay: ${index * 0.08}s`}
              role="listitem"
            >
              <div class="absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-100 bg-gradient-to-br from-emerald-500/10 via-transparent to-cyan-500/10"></div>
              <div class="relative z-10 flex items-center justify-between">
                <span class="text-3xl font-bold text-gray-900 dark:text-white">
                  {stat.value}
                </span>
                <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-emerald-500/10 text-emerald-600 dark:bg-emerald-400/10 dark:text-emerald-300">
                  {stat.icon === 'shield' && (
                    <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 3l7 4v5c0 5-3.5 8.5-7 9-3.5-.5-7-4-7-9V7l7-4z"
                      />
                    </svg>
                  )}
                  {stat.icon === 'globe' && (
                    <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 2a10 10 0 100 20 10 10 0 000-20z"
                      />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2 12h20" />
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"
                      />
                    </svg>
                  )}
                  {stat.icon === 'download' && (
                    <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 3v12m0 0l4-4m-4 4l-4-4M4 17v3h16v-3"
                      />
                    </svg>
                  )}
                </span>
              </div>
              <p class="mt-3 text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-slate-400">
                {stat.label}
              </p>
              {stat.detail && (
                <p class="mt-2 text-xs text-gray-600 dark:text-slate-300">
                  {stat.detail}
                </p>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .skills-strip-card {
    opacity: 0;
    transform: translateY(12px);
    animation: skillsStripReveal 0.6s ease-out forwards;
    animation-delay: var(--delay, 0s);
    will-change: transform, opacity;
  }

  .skills-chip {
    transition: transform 0.2s ease, color 0.2s ease, background-color 0.2s ease;
  }

  .skills-chip:hover {
    transform: translateY(-1px);
  }

  @keyframes skillsStripReveal {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .skills-strip-card {
      animation: none;
      opacity: 1;
      transform: none;
    }

    .skills-chip {
      transition: none;
    }
  }
</style>
